@page
@model HilleroedSejlklubExam.Pages.Members.ShowMembersModel
@{
    ViewData["Title"] = "ShowMembers";
}

<h1>Antal klubmedlemmer  @HSLibrary.Services.MemberRepository.Count </h1>

@*Skaber et link, som sender brugeren videre til siden "AddMember".*@
<p>
    <a asp-page="AddMember" >Tilføj et nyt klubmedlem</a>
</p>

@*Opretter en tabel, som viser oplysninger om alle medlemmer*@
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Image</th>
          
        </tr>
    </thead>
    @*Dynamisk indhold: Ved hjælp af @foreach-loopet itereres gennem alle medlemmer i Model.Member. 
    For hver medlem oprettes en ny række (<tr>) med data om medlemmet i celler (<td>).*@
    <tbody>
        @foreach (Member member in Model.Members)
        {
            <tr>
                <td>@member.Id</td>
                <td>@member.Name</td>
                <td>@member.Address</td>
                <td>@member.Mobile</td>
                @*Billede: For hver kunde vises et billede (hvis der er et tilknyttet billede) 
                 Dette billede vises som en rund figur med en størrelse på 80x70 pixels.*@
                <td>
                    <img src="~/Images/MemberImages/@member.MemberImage" class="rounded-circle" width="80" height="70" />
                </td>

                @*Rediger og Slet Links: For hver medlem er der links til at redigere og slette medlemmet. 
                Linksene bruger asp-page til at navigere til de relevante sider *@
                <td><a asp-page="EditMember" asp-route-id="@member.Id">Rediger medlem</a></td>
                <td><a asp-page="DeleteMember" asp-route-deleteMobile="@member.Mobile">Fjern medlem</a></td>
            </tr>
        }
    </tbody>
</table>
